!function(Q){var F={};function U(B){if(F[B])return F[B].exports;var s=F[B]={i:B,l:!1,exports:{}};return Q[B].call(s.exports,s,s.exports,U),s.l=!0,s.exports}U.m=Q,U.c=F,U.d=function(Q,F,B){U.o(Q,F)||Object.defineProperty(Q,F,{enumerable:!0,get:B})},U.r=function(Q){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})},U.t=function(Q,F){if(1&F&&(Q=U(Q)),8&F)return Q;if(4&F&&"object"==typeof Q&&Q&&Q.__esModule)return Q;var B=Object.create(null);if(U.r(B),Object.defineProperty(B,"default",{enumerable:!0,value:Q}),2&F&&"string"!=typeof Q)for(var s in Q)U.d(B,s,function(F){return Q[F]}.bind(null,s));return B},U.n=function(Q){var F=Q&&Q.__esModule?function(){return Q.default}:function(){return Q};return U.d(F,"a",F),F},U.o=function(Q,F){return Object.prototype.hasOwnProperty.call(Q,F)},U.p="public",U(U.s=0)}([function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./tsfiles/DropDowns.ts\nclass DropDownUtils {\n    static getYearsDropDown(id, currentYear) {\n        if (currentYear < 1970)\n            throw new Error("Wrong Year Exception");\n        let years = new Array(currentYear - 1970 + 1);\n        for (let index = 1970; index <= currentYear; index++) {\n            years[index - 1970] = index;\n        }\n        let yearOptions = DropDownUtils.getDropDown(years);\n        let yearSelector = document.createElement("select");\n        yearSelector.id = id;\n        yearOptions.forEach(option => yearSelector.add(option));\n        return yearSelector;\n    }\n    static getMonthsDropDown(id) {\n        let monthOptions = DropDownUtils.getDropDown(this.MONTHS);\n        let monthSelector = document.createElement("select");\n        monthSelector.id = id;\n        monthOptions.forEach(option => monthSelector.add(option));\n        return monthSelector;\n    }\n    static getMonthIndex(value) {\n        return this.MONTHS.indexOf(value);\n    }\n    static getDropDown(elements) {\n        let optionElements = new Array(elements.length);\n        elements.forEach(optionName => {\n            let option = document.createElement("option");\n            option.id = optionName.toString();\n            option.text = optionName.toString();\n            optionElements.push(option);\n        });\n        return optionElements;\n    }\n}\nDropDownUtils.MONTHS = ["January", "Feburary", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];\n\n// CONCATENATED MODULE: ./tsfiles/Utils.ts\nconst excludeEnd = (start, end) => getRange(start, end - 1);\nconst excludeStart = (start, end) => getRange(start + 1, end);\nconst getRange = (start, end) => {\n    let array = new Array();\n    for (let i = start; i <= end; i++) {\n        array.push(i);\n    }\n    return array;\n};\n\n\n// CONCATENATED MODULE: ./tsfiles/CalendarView.ts\n\nclass CalendarView_CalendarView {\n    static getCalendarTable(id, month, year, onclick) {\n        let calendarTable = document.createElement("table");\n        calendarTable.id = id;\n        this.addCalendarHeader(calendarTable);\n        this.addCalendarWeeks(calendarTable, new Date(year, month, 1), onclick);\n        return calendarTable;\n    }\n    static addCalendarWeeks(calendarTable, date, onclick) {\n        let numdays = getNumDays(date);\n        let [firstWeek, firstWeekend, prevMonthExclusion] = CalendarView_CalendarView.getFirstWeek(date);\n        let nextMonthInclusions = getRange(1, 6 - getMonthEndDay(date));\n        let added = 0;\n        while (added < numdays) {\n            if (added == 0) {\n                this.addRowAsDays(calendarTable, firstWeek, prevMonthExclusion, onclick);\n                added += firstWeekend;\n            }\n            else if (added + 7 >= numdays) {\n                this.addRowAsDays(calendarTable, excludeStart(added, numdays).concat(nextMonthInclusions), new Set(nextMonthInclusions), onclick);\n                added += numdays - added;\n            }\n            else {\n                this.addRowAsDays(calendarTable, excludeStart(added, added + 7), new Set(), onclick);\n                added += 7;\n            }\n        }\n    }\n    static getFirstWeek(date) {\n        let firstDay = getMonthStartDay(date);\n        let prevMonthNumDays = new Date(date.getFullYear(), date.getMonth(), 0).getDate();\n        let firstWeekend = 7 - firstDay;\n        let exlusion = excludeStart(prevMonthNumDays - firstDay, prevMonthNumDays);\n        console.log("ES : " + excludeStart(prevMonthNumDays - firstDay, prevMonthNumDays));\n        return [exlusion.concat(getRange(1, firstWeekend)), firstWeekend, new Set(exlusion)];\n    }\n    static addRowAsDays(table, days, excluded, onclick) {\n        let row = table.insertRow();\n        days.forEach(day => {\n            let cell = row.insertCell();\n            let text = document.createTextNode(day.toString());\n            cell.appendChild(text);\n            if (excluded.has(day))\n                cell.style.backgroundColor = "gray";\n            else {\n                cell.onclick = onclick;\n            }\n        });\n    }\n    static addCalendarHeader(table) {\n        let head = table.createTHead();\n        let row = head.insertRow();\n        DAYS.forEach(day => {\n            let th = document.createElement("th");\n            let text = document.createTextNode(day);\n            th.appendChild(text);\n            row.appendChild(th);\n        });\n        return head;\n    }\n}\nlet DAYS = ["SU", "MO", "TU", "WE", "TH", "FR", "SA"];\nlet getMonthStartDay = (date) => new Date(date.getFullYear(), date.getMonth(), 1).getDay();\nlet getMonthEndDay = (date) => new Date(date.getFullYear(), date.getMonth() + 1, 0).getDay();\nlet getNumDays = (date) => new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();\n\n// CONCATENATED MODULE: ./tsfiles/DatePicker.ts\n\n\nclass DatePicker_DatePicker {\n    constructor(id, onclick) {\n        this.MONTH_DROP_DOWN_ID = "month-drop-down";\n        this.YEAR_DROP_DOWN_ID = "year-drop-down";\n        this.CALENDAR_TABLE_ID = "calendar-table";\n        this.selectedYear = 2020;\n        this.selectedMonth = 1;\n        this.id = id;\n        this.onclick = onclick;\n    }\n    render(month, year) {\n        this.selectedMonth = Math.floor(month);\n        this.selectedYear = Math.floor(year);\n        this.calendarDiv = document.getElementById(this.id);\n        let monthDropDown = DropDownUtils.getMonthsDropDown(this.MONTH_DROP_DOWN_ID);\n        let yearDropDown = DropDownUtils.getYearsDropDown(this.YEAR_DROP_DOWN_ID, year);\n        let calendarTable = CalendarView_CalendarView.getCalendarTable(this.CALENDAR_TABLE_ID, month, year, this.onclick);\n        monthDropDown.selectedIndex = this.selectedMonth;\n        yearDropDown.selectedIndex = yearDropDown.options.length - 1;\n        monthDropDown.addEventListener("change", (event) => {\n            let newMonth = monthDropDown.value;\n            this.reRenderTable(DropDownUtils.getMonthIndex(newMonth), this.selectedYear);\n        });\n        yearDropDown.addEventListener("change", (event) => {\n            let newYear = yearDropDown.value;\n            this.reRenderTable(this.selectedMonth, Number.parseInt(newYear));\n        });\n        this.calendarDiv.appendChild(monthDropDown);\n        this.calendarDiv.appendChild(yearDropDown);\n        this.calendarDiv.appendChild(calendarTable);\n    }\n    reRenderTable(month, year) {\n        let oldCalendarTable = this.calendarDiv.querySelector(`#${this.CALENDAR_TABLE_ID}`);\n        let newCalendarTable = CalendarView_CalendarView.getCalendarTable(this.CALENDAR_TABLE_ID, month, year, this.onclick);\n        this.selectedMonth = month;\n        this.selectedYear = year;\n        oldCalendarTable === null || oldCalendarTable === void 0 ? void 0 : oldCalendarTable.replaceWith(newCalendarTable);\n    }\n}\nlet doOnClick = () => { console.log("pokemon click"); };\nlet dp1 = new DatePicker_DatePicker("datepicker1", doOnClick);\ndp1.render(new Date().getMonth(), new Date().getFullYear());\nlet dp2 = new DatePicker_DatePicker("datepicker2", doOnClick);\ndp2.render(8, 2020);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi90c2ZpbGVzL0Ryb3BEb3ducy50cz82ZjllIiwid2VicGFjazovLy8uL3RzZmlsZXMvVXRpbHMudHM/OWI1NSIsIndlYnBhY2s6Ly8vLi90c2ZpbGVzL0NhbGVuZGFyVmlldy50cz9kYTI2Iiwid2VicGFjazovLy8uL3RzZmlsZXMvRGF0ZVBpY2tlci50cz9lZGRiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFFTyxNQUFNLGFBQWE7SUFHdEIsTUFBTSxDQUFDLGdCQUFnQixDQUFDLEVBQVUsRUFBRSxXQUFtQjtRQUNuRCxJQUFJLFdBQVcsR0FBRyxJQUFJO1lBQUUsTUFBTSxJQUFJLEtBQUssQ0FBQyxzQkFBc0IsQ0FBQztRQUMvRCxJQUFJLEtBQUssR0FBRyxJQUFJLEtBQUssQ0FBQyxXQUFXLEdBQUcsSUFBSSxHQUFHLENBQUMsQ0FBQztRQUM3QyxLQUFLLElBQUksS0FBSyxHQUFHLElBQUksRUFBRSxLQUFLLElBQUksV0FBVyxFQUFFLEtBQUssRUFBRSxFQUFFO1lBQUUsS0FBSyxDQUFDLEtBQUssR0FBQyxJQUFJLENBQUMsR0FBRyxLQUFLO1NBQUU7UUFDbkYsSUFBSSxXQUFXLEdBQUcsYUFBYSxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUM7UUFDbEQsSUFBSSxZQUFZLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUM7UUFDbkQsWUFBWSxDQUFDLEVBQUUsR0FBRyxFQUFFO1FBQ3BCLFdBQVcsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3ZELE9BQU8sWUFBWTtJQUN2QixDQUFDO0lBRUQsTUFBTSxDQUFDLGlCQUFpQixDQUFDLEVBQVU7UUFDL0IsSUFBSSxZQUFZLEdBQUcsYUFBYSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDO1FBQ3pELElBQUksYUFBYSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMs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YmVyIHwgc3RyaW5nXG5cbmV4cG9ydCBjbGFzcyBEcm9wRG93blV0aWxzIHtcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBNT05USFMgPSBbXCJKYW51YXJ5XCIsIFwiRmVidXJhcnlcIiwgXCJNYXJjaFwiLCBcIkFwcmlsXCIsIFwiTWF5XCIsIFwiSnVuZVwiLCBcIkp1bHlcIiwgXCJBdWd1c3RcIiwgXCJTZXB0ZW1iZXJcIiwgXCJPY3RvYmVyXCIsIFwiTm92ZW1iZXJcIiwgXCJEZWNlbWJlclwiXTtcblxuICAgIHN0YXRpYyBnZXRZZWFyc0Ryb3BEb3duKGlkOiBzdHJpbmcsIGN1cnJlbnRZZWFyOiBudW1iZXIpOiBIVE1MU2VsZWN0RWxlbWVudCB7XG4gICAgICAgIGlmIChjdXJyZW50WWVhciA8IDE5NzApIHRocm93IG5ldyBFcnJvcihcIldyb25nIFllYXIgRXhjZXB0aW9uXCIpXG4gICAgICAgIGxldCB5ZWFycyA9IG5ldyBBcnJheShjdXJyZW50WWVhciAtIDE5NzAgKyAxKVxuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDE5NzA7IGluZGV4IDw9IGN1cnJlbnRZZWFyOyBpbmRleCsrKSB7IHllYXJzW2luZGV4LTE5NzBdID0gaW5kZXggfVxuICAgICAgICBsZXQgeWVhck9wdGlvbnMgPSBEcm9wRG93blV0aWxzLmdldERyb3BEb3duKHllYXJzKVxuICAgICAgICBsZXQgeWVhclNlbGVjdG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiKVxuICAgICAgICB5ZWFyU2VsZWN0b3IuaWQgPSBpZFxuICAgICAgICB5ZWFyT3B0aW9ucy5mb3JFYWNoKG9wdGlvbiA9PiB5ZWFyU2VsZWN0b3IuYWRkKG9wdGlvbikpXG4gICAgICAgIHJldHVybiB5ZWFyU2VsZWN0b3JcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0TW9udGhzRHJvcERvd24oaWQ6IHN0cmluZyk6IEhUTUxTZWxlY3RFbGVtZW50IHtcbiAgICAgICAgbGV0IG1vbnRoT3B0aW9ucyA9IERyb3BEb3duVXRpbHMuZ2V0RHJvcERvd24odGhpcy5NT05USFMpXG4gICAgICAgIGxldCBtb250aFNlbGVjdG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiKVxuICAgICAgICBtb250aFNlbGVjdG9yLmlkID0gaWRcbiAgICAgICAgbW9udGhPcHRpb25zLmZvckVhY2gob3B0aW9uID0+IG1vbnRoU2VsZWN0b3IuYWRkKG9wdGlvbikpXG4gICAgICAgIHJldHVybiBtb250aFNlbGVjdG9yXG4gICAgfSBcblxuICAgIHN0YXRpYyBnZXRNb250aEluZGV4KHZhbHVlOiBzdHJpbmcpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5NT05USFMuaW5kZXhPZih2YWx1ZSlcbiAgICB9XG5cbiAgIHByaXZhdGUgc3RhdGljIGdldERyb3BEb3duKGVsZW1lbnRzOiBBcnJheTxEcm9wZG93bk9wdGlvblR5cGU+KTogQXJyYXk8SFRNTE9wdGlvbkVsZW1lbnQ+IHtcbiAgICAgICAgbGV0IG9wdGlvbkVsZW1lbnRzID0gbmV3IEFycmF5PEhUTUxPcHRpb25FbGVtZW50PihlbGVtZW50cy5sZW5ndGgpXG4gICAgICAgIGVsZW1lbnRzLmZvckVhY2gob3B0aW9uTmFtZT0+e1xuICAgICAgICAgICAgbGV0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIilcbiAgICAgICAgICAgIG9wdGlvbi5pZCA9IG9wdGlvbk5hbWUudG9TdHJpbmcoKVxuICAgICAgICAgICAgb3B0aW9uLnRleHQgPSBvcHRpb25OYW1lLnRvU3RyaW5nKClcbiAgICAgICAgICAgIG9wdGlvbkVsZW1lbnRzLnB1c2gob3B0aW9uKVxuICAgICAgICB9KVxuICAgICAgICByZXR1cm4gb3B0aW9uRWxlbWVudHNcbiAgICB9XG59IiwiY29uc3QgZXhjbHVkZUVuZCA9IChzdGFydDogbnVtYmVyLCBlbmQ6IG51bWJlcikgPT4gZ2V0UmFuZ2Uoc3RhcnQsIGVuZCAtIDEpO1xuY29uc3QgZXhjbHVkZVN0YXJ0ID0gKHN0YXJ0OiBudW1iZXIsIGVuZDogbnVtYmVyKSA9PiBnZXRSYW5nZShzdGFydCArIDEsIGVuZCk7XG5jb25zdCBnZXRSYW5nZSA9IChzdGFydDogbnVtYmVyLCBlbmQ6IG51bWJlcik6IG51bWJlcltdID0+IHtcbiAgICBsZXQgYXJyYXkgPSBuZXcgQXJyYXkoKTtcbiAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPD0gZW5kOyBpKyspIHtcbiAgICAgICAgYXJyYXkucHVzaChpKTtcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5O1xufVxuXG5leHBvcnQge2V4Y2x1ZGVFbmQsIGV4Y2x1ZGVTdGFydCwgZ2V0UmFuZ2V9IiwiaW1wb3J0IHsgZ2V0UmFuZ2UsIGV4Y2x1ZGVTdGFydCB9IGZyb20gXCIuL1V0aWxzXCJcblxuZXhwb3J0IGNsYXNzIENhbGVuZGFyVmlldyB7XG4gICAgc3RhdGljIGdldENhbGVuZGFyVGFibGUoaWQ6IHN0cmluZywgbW9udGg6IG51bWJlciwgeWVhcjogbnVtYmVyLCBvbmNsaWNrOiAoKSA9PiB2b2lkKTogSFRNTFRhYmxlRWxlbWVudCB7XG4gICAgICAgIGxldCBjYWxlbmRhclRhYmxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRhYmxlXCIpXG4gICAgICAgIGNhbGVuZGFyVGFibGUuaWQgPSBpZFxuICAgICAgICB0aGlzLmFkZENhbGVuZGFySGVhZGVyKGNhbGVuZGFyVGFibGUpXG4gICAgICAgIHRoaXMuYWRkQ2FsZW5kYXJXZWVrcyhjYWxlbmRhclRhYmxlLCBuZXcgRGF0ZSh5ZWFyLCBtb250aCwgMSksIG9uY2xpY2spXG4gICAgICAgIHJldHVybiBjYWxlbmRhclRhYmxlXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdGF0aWMgYWRkQ2FsZW5kYXJXZWVrcyhjYWxlbmRhclRhYmxlOiBIVE1MVGFibGVFbGVtZW50LCBkYXRlOiBEYXRlLCBvbmNsaWNrOiAoKSA9PiB2b2lkKSB7XG4gICAgICAgIGxldCBudW1kYXlzID0gZ2V0TnVtRGF5cyhkYXRlKVxuICAgICAgICBsZXQgW2ZpcnN0V2VlaywgZmlyc3RXZWVrZW5kLCBwcmV2TW9udGhFeGNsdXNpb25dID0gQ2FsZW5kYXJWaWV3LmdldEZpcnN0V2VlayhkYXRlKVxuICAgICAgICBsZXQgbmV4dE1vbnRoSW5jbHVzaW9ucyA9IGdldFJhbmdlKDEsIDYgLSBnZXRNb250aEVuZERheShkYXRlKSlcblxuICAgICAgICBsZXQgYWRkZWQgPSAwXG4gICAgICAgIHdoaWxlKGFkZGVkIDwgbnVtZGF5cykge1xuICAgICAgICAgICAgaWYgKGFkZGVkID09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFJvd0FzRGF5cyhjYWxlbmRhclRhYmxlLCBmaXJzdFdlZWssIHByZXZNb250aEV4Y2x1c2lvbiwgb25jbGljaylcbiAgICAgICAgICAgICAgICBhZGRlZCArPSBmaXJzdFdlZWtlbmRcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYWRkZWQgKyA3ID49IG51bWRheXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFJvd0FzRGF5cyhjYWxlbmRhclRhYmxlLCBleGNsdWRlU3RhcnQoYWRkZWQsIG51bWRheXMpLmNvbmNhdChuZXh0TW9udGhJbmNsdXNpb25zKSwgbmV3IFNldChuZXh0TW9udGhJbmNsdXNpb25zKSwgb25jbGljaylcbiAgICAgICAgICAgICAgICBhZGRlZCArPSBudW1kYXlzIC0gYWRkZWRcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRSb3dBc0RheXMoY2FsZW5kYXJUYWJsZSwgZXhjbHVkZVN0YXJ0KGFkZGVkLCBhZGRlZCArIDcpLCBuZXcgU2V0KCksIG9uY2xpY2spXG4gICAgICAgICAgICAgICAgYWRkZWQgKz0gN1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdGF0aWMgZ2V0Rmlyc3RXZWVrKGRhdGU6IERhdGUpOiBbbnVtYmVyW10sIG51bWJlciwgU2V0PG51bWJlcj5dIHtcbiAgICAgICAgbGV0IGZpcnN0RGF5ID0gZ2V0TW9udGhTdGFydERheShkYXRlKVxuICAgICAgICBsZXQgcHJldk1vbnRoTnVtRGF5cyA9IG5ldyBEYXRlKGRhdGUuZ2V0RnVsbFllYXIoKSwgZGF0ZS5nZXRNb250aCgpLCAwKS5nZXREYXRlKClcbiAgICAgICAgbGV0IGZpcnN0V2Vla2VuZCA9IDcgLSBmaXJzdERheVxuICAgICAgICBsZXQgZXhsdXNpb24gPSBleGNsdWRlU3RhcnQocHJldk1vbnRoTnVtRGF5cyAtIGZpcnN0RGF5LCBwcmV2TW9udGhOdW1EYXlzKVxuICAgICAgICBjb25zb2xlLmxvZyhcIkVTIDogXCIgKyBleGNsdWRlU3RhcnQocHJldk1vbnRoTnVtRGF5cyAtIGZpcnN0RGF5LCBwcmV2TW9udGhOdW1EYXlzKSlcbiAgICAgICAgcmV0dXJuIFtleGx1c2lvbi5jb25jYXQoZ2V0UmFuZ2UoMSwgZmlyc3RXZWVrZW5kKSksIGZpcnN0V2Vla2VuZCwgbmV3IFNldChleGx1c2lvbildXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdGF0aWMgYWRkUm93QXNEYXlzKHRhYmxlOiBIVE1MVGFibGVFbGVtZW50LCBkYXlzOiBBcnJheTxudW1iZXI+LCBleGNsdWRlZDogU2V0PG51bWJlcj4sIG9uY2xpY2s6ICgpID0+IHZvaWQpIHtcbiAgICAgICAgbGV0IHJvdyA9IHRhYmxlLmluc2VydFJvdygpXG4gICAgICAgIGRheXMuZm9yRWFjaChkYXkgPT4ge1xuICAgICAgICAgICAgbGV0IGNlbGwgPSByb3cuaW5zZXJ0Q2VsbCgpXG4gICAgICAgICAgICBsZXQgdGV4dCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGRheS50b1N0cmluZygpKVxuICAgICAgICAgICAgY2VsbC5hcHBlbmRDaGlsZCh0ZXh0KVxuICAgICAgICAgICAgaWYgKGV4Y2x1ZGVkLmhhcyhkYXkpKSBjZWxsLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiZ3JheVwiXG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjZWxsLm9uY2xpY2sgPSBvbmNsaWNrXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdGF0aWMgYWRkQ2FsZW5kYXJIZWFkZXIodGFibGU6IEhUTUxUYWJsZUVsZW1lbnQpOiBIVE1MVGFibGVTZWN0aW9uRWxlbWVudCB7XG4gICAgICAgIGxldCBoZWFkID0gdGFibGUuY3JlYXRlVEhlYWQoKVxuICAgICAgICBsZXQgcm93ID0gaGVhZC5pbnNlcnRSb3coKVxuICAgICAgICBEQVlTLmZvckVhY2goZGF5ID0+IHtcbiAgICAgICAgICAgIGxldCB0aCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0aFwiKVxuICAgICAgICAgICAgbGV0IHRleHQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShkYXkpXG4gICAgICAgICAgICB0aC5hcHBlbmRDaGlsZCh0ZXh0KVxuICAgICAgICAgICAgcm93LmFwcGVuZENoaWxkKHRoKVxuICAgICAgICB9KVxuICAgICAgICByZXR1cm4gaGVhZFxuICAgIH1cbn1cblxubGV0IERBWVMgPSBbXCJTVVwiLCBcIk1PXCIsIFwiVFVcIiwgXCJXRVwiLCBcIlRIXCIsIFwiRlJcIiwgXCJTQVwiXTtcblxubGV0IGdldE1vbnRoU3RhcnREYXkgPSAoZGF0ZTogRGF0ZSkgPT4gbmV3IERhdGUoZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCksIDEpLmdldERheSgpO1xubGV0IGdldE1vbnRoRW5kRGF5ID0gKGRhdGU6IERhdGUpID0+IG5ldyBEYXRlKGRhdGUuZ2V0RnVsbFllYXIoKSwgZGF0ZS5nZXRNb250aCgpICsgMSwgMCkuZ2V0RGF5KCk7XG5sZXQgZ2V0TnVtRGF5cyA9IChkYXRlOiBEYXRlKSA9PiBuZXcgRGF0ZShkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSArIDEsIDApLmdldERhdGUoKTsiLCJpbXBvcnQgeyBEcm9wRG93blV0aWxzIH0gZnJvbSBcIi4vRHJvcERvd25zXCI7XG5pbXBvcnQgeyBDYWxlbmRhclZpZXcgfSBmcm9tIFwiLi9DYWxlbmRhclZpZXdcIjtcblxuY2xhc3MgRGF0ZVBpY2tlciB7XG4gICAgcHJpdmF0ZSByZWFkb25seSBNT05USF9EUk9QX0RPV05fSUQgPSBcIm1vbnRoLWRyb3AtZG93blwiXG4gICAgcHJpdmF0ZSByZWFkb25seSBZRUFSX0RST1BfRE9XTl9JRCA9IFwieWVhci1kcm9wLWRvd25cIlxuICAgIHByaXZhdGUgcmVhZG9ubHkgQ0FMRU5EQVJfVEFCTEVfSUQgPSBcImNhbGVuZGFyLXRhYmxlXCJcbiAgICBwcml2YXRlIGNhbGVuZGFyRGl2ITogSFRNTEVsZW1lbnQ7XG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IGlkOiBzdHJpbmdcbiAgICBwcml2YXRlIHJlYWRvbmx5IG9uY2xpY2s6ICgpID0+IHZvaWRcblxuICAgIHByaXZhdGUgc2VsZWN0ZWRZZWFyOiBudW1iZXIgPSAyMDIwO1xuICAgIHByaXZhdGUgc2VsZWN0ZWRNb250aDogbnVtYmVyID0gMTtcblxuICAgIGNvbnN0cnVjdG9yKGlkOiBzdHJpbmcsIG9uY2xpY2s6ICgpID0+IHZvaWQpIHtcbiAgICAgICAgdGhpcy5pZCA9IGlkXG4gICAgICAgIHRoaXMub25jbGljayA9IG9uY2xpY2tcbiAgICB9XG5cbiAgICByZW5kZXIobW9udGg6IG51bWJlciwgeWVhcjogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRNb250aCA9IE1hdGguZmxvb3IobW9udGgpXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRZZWFyID0gTWF0aC5mbG9vcih5ZWFyKVxuICAgICAgICB0aGlzLmNhbGVuZGFyRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5pZCkhXG4gICAgICAgIGxldCBtb250aERyb3BEb3duOiBIVE1MU2VsZWN0RWxlbWVudCA9IERyb3BEb3duVXRpbHMuZ2V0TW9udGhzRHJvcERvd24odGhpcy5NT05USF9EUk9QX0RPV05fSUQpXG4gICAgICAgIGxldCB5ZWFyRHJvcERvd246IEhUTUxTZWxlY3RFbGVtZW50ID0gRHJvcERvd25VdGlscy5nZXRZZWFyc0Ryb3BEb3duKHRoaXMuWUVBUl9EUk9QX0RPV05fSUQsIHllYXIpXG4gICAgICAgIGxldCBjYWxlbmRhclRhYmxlOiBIVE1MVGFibGVFbGVtZW50ID0gQ2FsZW5kYXJWaWV3LmdldENhbGVuZGFyVGFibGUodGhpcy5DQUxFTkRBUl9UQUJMRV9JRCwgbW9udGgsIHllYXIsIHRoaXMub25jbGljaylcbiAgICAgICAgbW9udGhEcm9wRG93bi5zZWxlY3RlZEluZGV4ID0gdGhpcy5zZWxlY3RlZE1vbnRoXG4gICAgICAgIHllYXJEcm9wRG93bi5zZWxlY3RlZEluZGV4ID0geWVhckRyb3BEb3duLm9wdGlvbnMubGVuZ3RoIC0gMVxuICAgICAgICBtb250aERyb3BEb3duLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGxldCBuZXdNb250aDogc3RyaW5nID0gbW9udGhEcm9wRG93bi52YWx1ZVxuICAgICAgICAgICAgdGhpcy5yZVJlbmRlclRhYmxlKERyb3BEb3duVXRpbHMuZ2V0TW9udGhJbmRleChuZXdNb250aCksIHRoaXMuc2VsZWN0ZWRZZWFyKVxuICAgICAgICB9KVxuICAgICAgICB5ZWFyRHJvcERvd24uYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGxldCBuZXdZZWFyOiBzdHJpbmcgPSB5ZWFyRHJvcERvd24udmFsdWVcbiAgICAgICAgICAgIHRoaXMucmVSZW5kZXJUYWJsZSh0aGlzLnNlbGVjdGVkTW9udGgsIE51bWJlci5wYXJzZUludChuZXdZZWFyKSlcbiAgICAgICAgfSlcbiAgICAgICAgdGhpcy5jYWxlbmRhckRpdi5hcHBlbmRDaGlsZChtb250aERyb3BEb3duKVxuICAgICAgICB0aGlzLmNhbGVuZGFyRGl2LmFwcGVuZENoaWxkKHllYXJEcm9wRG93bilcbiAgICAgICAgdGhpcy5jYWxlbmRhckRpdi5hcHBlbmRDaGlsZChjYWxlbmRhclRhYmxlKVxuICAgIH1cblxuICAgIHByaXZhdGUgcmVSZW5kZXJUYWJsZShtb250aDogbnVtYmVyLCB5ZWFyOiBudW1iZXIpIHtcbiAgICAgICAgbGV0IG9sZENhbGVuZGFyVGFibGUgPSB0aGlzLmNhbGVuZGFyRGl2LnF1ZXJ5U2VsZWN0b3IoYCMke3RoaXMuQ0FMRU5EQVJfVEFCTEVfSUR9YClcbiAgICAgICAgbGV0IG5ld0NhbGVuZGFyVGFibGU6IEhUTUxUYWJsZUVsZW1lbnQgPSBDYWxlbmRhclZpZXcuZ2V0Q2FsZW5kYXJUYWJsZSh0aGlzLkNBTEVOREFSX1RBQkxFX0lELCBtb250aCwgeWVhciwgdGhpcy5vbmNsaWNrKVxuICAgICAgICB0aGlzLnNlbGVjdGVkTW9udGggPSBtb250aFxuICAgICAgICB0aGlzLnNlbGVjdGVkWWVhciA9IHllYXJcbiAgICAgICAgb2xkQ2FsZW5kYXJUYWJsZT8ucmVwbGFjZVdpdGgobmV3Q2FsZW5kYXJUYWJsZSlcbiAgICB9XG59XG5cbmxldCBkb09uQ2xpY2sgPSAoKSA9PiB7IGNvbnNvbGUubG9nKFwicG9rZW1vbiBjbGlja1wiKX1cbmxldCBkcDEgPSBuZXcgRGF0ZVBpY2tlcihcImRhdGVwaWNrZXIxXCIsIGRvT25DbGljaylcbmRwMS5yZW5kZXIobmV3IERhdGUoKS5nZXRNb250aCgpLCBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCkpXG5cbmxldCBkcDIgPSBuZXcgRGF0ZVBpY2tlcihcImRhdGVwaWNrZXIyXCIsIGRvT25DbGljaylcbmRwMi5yZW5kZXIoOCwgMjAyMCkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///0\n')}]);